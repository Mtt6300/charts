
Mongo-restore
===========

You can restore you data with 2 ways:
* Link 
* Host path
  
## Link
With this way, you can restore your dumped data which uploaded in cloud. Here example of Helm config values for this section:
```yaml
config:
  source:
    link : "https://example.com/yourDatabase.zip" # your uploaded dumped database link (uplaoded format should be zip)
    gzip: true # its matter when you dumped your data with gzip enabled option.
    # db: "admin" # which database you want restore ? default is All.
  destination:
    host : "mongodb.test.svc.cluster.local" # destination database 
    username : "root" # destination username 
    password: "root" # destination password 
```
*Note*: By default it will restore entire dumped database. If you want, you can restore specific database by `config.source.db` section.

*Note*: Your dumped data should uploaded as a zip file.


## Host path
With this way you can restore your dumped data which stored in your local host path. Here example of Helm config values for this section:

```yaml
config:
  source:
    hostPath:
      filePath: "/home/ubuntu/yourDatabase.zip" # Your stored local dumped database file path.
      fileFormat: zip # zip , directory
    gzip: true # its matter when you dumped your data with gzip enabled option.
    # db: "admin" # which database you want restore ? default is All.
  destination:
    host : "mongodb.test.svc.cluster.local" # destination database
    username : "root" # destination username 
    password: "root" # destination password 

```

*Note*: By default it will restore entire dumped database. If you want, you can restore specific database by `config.source.db` section.

*Note*: You should define that what type is your dumped database file. Can be `directory` or `.zip`.



## Configuration

The following table lists the configurable parameters of the Mongo-restore chart and their default values.

| Parameter                | Description             | Default        |
| ------------------------ | ----------------------- | -------------- |
| `config.source.link` | Uploaded dumped database link | `"https://example.com/yourDatabase.zip"` |
| `config.source.hostPath.filePath` | Database local filepath | `"/home/ubuntu/yourDatabase.zip"` |
| `config.source.hostPath.fileFormat` | Zip , directory | `"zip"` |
| `config.source.gzip` | Gzip option | `false` |
| `config.source.db` | Specefic database | `"admin"` |
| `config.destination.host` | Host | `"mongodb.test.svc.cluster.local"` |
| `config.destination.username` | Username | `"root"` |
| `config.destination.password` | Password | `"root"` |
| `config.destination.secret.name` |  | `"mongodb"` |
| `config.destination.secret.key` |  | `"mongodb-root-password"` |
| `replicaCount` |  | `1` |
| `image.repository` |  | `"bitnami/mongodb"` |
| `image.pullPolicy` |  | `"IfNotPresent"` |
| `image.tag` |  | `"4.2.4-debian-10-r0"` |
| `imagePullSecrets` |  | `[]` |
| `nameOverride` |  | `""` |
| `fullnameOverride` |  | `""` |
| `serviceAccount.create` |  | `true` |
| `serviceAccount.annotations` |  | `{}` |
| `serviceAccount.name` |  | `""` |
| `podAnnotations` |  | `{}` |
| `podSecurityContext` |  | `{}` |
| `securityContext` |  | `{}` |
| `resources` |  | `{}` |
| `nodeSelector` |  | `{}` |
| `tolerations` |  | `[]` |
| `affinity` |  | `{}` |



---
_Documentation generated by [Frigate](https://frigate.readthedocs.io)._

